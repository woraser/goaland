<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
    layout:decorator="base">

<head>
	<meta charset="UTF-8" />
	<title th:text="#{sensor.detail}">sensor详情</title>
	
	<link rel="stylesheet" type="text/css" href="/webResources/plugins/jquery-UI/jquery-ui-1.12.1.custom/jquery-ui.theme.css" />
	<link rel="stylesheet" type="text/css" href="/webResources/plugins/jqgrid/css/ui.jqgrid.css" />
	<link rel="stylesheet" type="text/css" href="/webResources/plugins/pageJquery/css/zxf_page.css"/>
	
	<style>
        .ui-jqgrid-htable{
            height: 40px;font-size: 14px;color: #80909c;font-weight: 500;
        }
        .ui-jqgrid .ui-jqgrid-htable th div {
            overflow: hidden;
            position: relative;
            height: 40px;
            padding-top: 10px;color: #798692;font-weight: 500;
        }
        .ui-jqgrid .ui-jqgrid-htable .ui-th-div {
		    height: 40px;
		    margin-top: 5px;
		    display: inine-block;
		}
        .ui-jqgrid .ui-jqgrid-resize {
            height: 40px !important;
            position: relative;
            cursor: e-resize;
            display: inline;
            overflow: hidden;
        }
        .ui-jqgrid tr.jqgrow {
            outline-style: none;
            height: 40px;
        }
        .ui-jqgrid tr.ui-row-ltr td {
            text-align: left;
            border-right-width: 0px;
            border-right-color: inherit;
            border-right-style: solid;
            color: #4F6A7F;
            font-size: 14px;
        }
        .ui-state-highlight, .ui-widget-content .ui-state-highlight, .ui-widget-header .ui-state-highlight {
            border: 0px solid #fcd3a1;
            background: #fbf8ee;
            color: #444;
        }
        .ui-widget-content {
            border: 1px solid #eee;
            background: #fff;
        }
        .ui-jqgrid tr:nth-child(even) {
            background: #F4F8F9;
        }
        .ui-jqgrid tr:nth-child(odd) {
            background: #FFFFFF;
        }
        .table-tr{
            height: 5px;
        }
    </style>
	
	<script type="text/javascript" src="/webResources/plugins/echarts/echarts.min.js"></script>
	<script type="text/javascript" src="/webResources/plugins/jqgrid/js/jquery.jqGrid.min.js"></script>
	<script type="text/javascript" src="/webResources/plugins/jqgrid/src/i18n/grid.locale-cn.js"></script>
	<script type="text/javascript" src="/webResources/js/custom/sensor/detail.js" ></script>
	<script type="text/javascript" src="/webResources/js/custom/sensor/detail-allData.js" ></script>
	<script type="text/javascript" src="/webResources/js/custom/sensor/detail-alarmData.js" ></script>
	<script type="text/javascript" src="/webResources/plugins/pageJquery/js/zxf_page.js" ></script>
	<script type="text/javascript" src="/webResources/js/custom/page/createPage.js"></script>
	<script type="text/javascript" src="/webResources/plugins/jquery-BlockUI/jquery.blockUI.js" ></script>

</head>

<body>
	<div layout:fragment="content" >
		<input type="hidden" id="serialNo" name="serialNo" th:value="${serialNo}"/>
		<div class="table-top">
		    <div class="title-big" style="width: 7%" th:text="#{sensor.detail}">
		        	传感器管理
		    </div>
		    <div class="title-small">
		
		    </div>
			<a href="javascript:void(0)" onclick="javascript:history.go(-1);return false;" >
		    	<button class="back" th:text="#{return}"></button>
		    </a>
		</div>
		<div class="companyMgr-page" style="padding: 1.5% 2.5%" >
		    <div id="detail" class="sensor-div-top" v-cloak="v-cloak">
		        <div class="sensor-top-left" style="padding-top: 3%">
		        	<a v-bind:href="'/iotx/management/detail/'+detailData['dust.iotx.id']+'/view'">
			            <div class="sensor-top-left-div">
			                <div style="width: 100%;height: 70%">
		                		<img src="/webResources/img/iotx/iotx-top-img.png" style="width:100%;"/>
			                </div>
			                <div style="width: 100%;height: 30%">
			                    <div class="half-div">
			                        IOT-X
			                    </div>
			                    <div class="half-div">
			                        {{detailData['dust.iotx.serialNo']}}
			                    </div>
			                </div>
			            </div>
		            </a>
		            <div class="connect-img">
		                <img src="/webResources/img/iotx/sensor-top.png" style="width:100%;"/>
		            </div>
		            <div class="sensor-top-left-div">
		                <div style="width: 100%;height: 70%">
		                    <img src="/webResources/img/iotx/iotx-top-img2.png" style="width:100%;"/>
		                </div>
		                <div style="width: 100%;height: 30%">
		                    <div class="half-div" th:text="#{sensor}">
		                        	传感器
		                    </div>
		                    <div class="half-div" style="color: #6DB2CF">
		                         {{detailData.serialNo}}
		                    </div>
		                </div>
		            </div>
		            <div class="connect-img">
		                <img src="/webResources/img/iotx/sensor-top.png" style="width:100%;"/>
		            </div>
		            <a v-bind:href="'/device/management/detail/'+deviceId+'/view'">
			            <div class="sensor-top-left-div">
			                <div style="width: 100%;height: 70%">
			                    <img src="/webResources/img/iotx/iotx-top-img3.png" style="width:100%;"/>
			                </div>
			                <div style="width: 100%;height: 30%">
			                    <div class="half-div" th:text="#{sensor.device}">
			                        	连接设备
			                    </div>
			                    <div class="half-div">
			                         {{detailData['dust.device.serialNo']}}
			                    </div>
			                </div>
			            </div>
		            </a>
		        </div>
		        <div class="sensor-top-right">
		            <div class="sensor-data" style="float: left;background: #FCAFA1">
		                <div class="half-div" style="font-weight: 500;font-size: 28px;padding-top:20%;text-align: center">
		                        {{nowReading}}
		                </div>
		                <div th:text="#{sensor.nowReading}" class="half-div" style="padding-top:10%;font-weight: 500;font-size: 18px;text-align: center">
		                        	当前读数
		                </div>
		            </div>
		            <div v-if="detailData.isWorked" class="sensor-data" style="float: right;margin-left: 1%;background: #C4C5C8">
		                <div class="half-div" style="font-weight: 500;font-size: 28px;padding-top:20%;text-align: center">
		                    <img src="/webResources/img/iotx/sensordetails_run.png"/>
		                </div>
		                <div th:text="#{sensor.run}" class="half-div" style="padding-top:10%;font-weight: 500;font-size: 18px;text-align: center">
		                    	采集中
		                </div>
		            </div>
		            <div v-if="!detailData.isWorked" class="sensor-data" style="float: right;margin-left: 1%;background: #C4C5C8">
		                <div class="half-div" style="font-weight: 500;font-size: 28px;padding-top:20%;text-align: center">
		                    <img src="/webResources/img/iotx/sensordetails_stop.png"/>
		                </div>
		                <div th:text="#{sensor.stop}" class="half-div" style="padding-top:10%;font-weight: 500;font-size: 18px;text-align: center">
		                    	停止采集
		                </div>
		            </div>
		            <div class="sensor-data-on">
		                <div th:text="#{sensor.maxVal}" class="sensor-data-on-left">
		                    	上限
		                </div>
		                <div class="sensor-data-on-right">
		                    {{detailData.maxVal + detailData.unit}}
		                </div>
		            </div>
		            <div class="sensor-data-on">
		                <div th:text="#{sensor.minVal}" class="sensor-data-on-left">
		                    	下限
		                </div>
		                <div class="sensor-data-on-right">
		                    {{detailData.minVal + detailData.unit}}
		                </div>
		            </div>
		        </div>
		
		    </div>
		    <div id="paging" class="sensor-div-right">
		        <div class="sensor-div-right-top">
		            <div th:text="#{sensor.alarm.record}" class="sensor-warnings-title">
		                	告警记录
		            </div>
		            <div class="sensor-warnings-data">
		                <div class="half-div" style="color:#FFFFFF;font-weight: 500;font-size: 23px;padding-top:5%;text-align: center">
		                    {{alarmQuantity}}
		                </div>
		                <div th:text="#{sensor.alarmQuantity}" class="half-div" style="color:#FFFFFF;font-weight: 500;font-size: 14px;text-align: center">
		                    	告警总量
		                </div>
		            </div>
		        </div>
		        <div style="width: 100%;height: 88.5%;background: #FFFFFF">
		            <div class="box-body">
		                <div class="data-table">
		                    <table id="alarmDataTable"></table>
		                    <div style="margin-top:5%;margin-right: 40%">
		                    	<a v-if="last" href="#" v-on:click="nextPageClick" style="float: right;margin-right: 2%">
				                    <img src="/webResources/img/page/nextPage.png"/>
				                </a>
				                <a v-if="!last" style="float: right;margin-right: 2%">
				                	<img src="/webResources/img/page/nextPage_un.png"/>
				                </a>
			                	<a v-if="first" href="#" v-on:click="lastPageClick" style="float: right;margin-right: 2%">
					                <img src="/webResources/img/page/lastPage.png"/>
				                </a>
				                <a v-if="!first" style="float: right;margin-right: 2%">
				                	<img src="/webResources/img/page/lastPage_un.png"/>
				                </a>
		                    </div>
		                </div>
		            </div>
		        </div>
		    </div>
		    <div class="sensor-div-bottom">
		        <div class="tabbable" style="width: 100%;height: 40%;">
		            <ul class="nav nav-tabs" style="width: 50%;float: left">
		                <li class="active" style="width: 24%;font-size: 14px;margin-left: 1px"><a href="#tab_1_1" data-toggle="tab" id="raw-data" aria-expanded="false" th:text="#{iotxData.line.history}">历史曲线</a></li>
		                <li style="width: 24%;font-size: 14px;margin-left: 1px" class="" ><a href="#tab_1_2" data-toggle="tab" id="back-data" aria-expanded="true" th:text="#{iotxData.history}">历史数据</a></li>
		            </ul>
		
		            <div class="tab-content" style="width: 100%;height: 100%;padding-top: 6%">
		                <div class="tab-pane fade active in" id="tab_1_1" style="width: 100%;height: 330%;">
		                    <div id="loy-tab" style="width: 100%;height: 433px">
		                    </div>
		                </div>
		                <div class="tab-pane fade" id="tab_1_2" style="width: 100%;height: 100%;">
		                    <div class="box-body">
		                        <div class="data-table" style="margin-left:6%">
				                    <table id="allDataTable"></table>
				                    <div id="allDataPager" style="padding-right:6%;margin-top:1%"></div>
				                </div>
		                    </div>
		                </div>
		            </div>
		        </div>
		    </div>
		</div>
	</div>
</body>


</html>

