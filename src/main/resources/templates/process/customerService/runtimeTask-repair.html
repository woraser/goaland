<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">

<head>
	<meta charset="UTF-8" />
	<title></title>
	
	<link href="/webResources/css/custom/checkbox.css" rel="stylesheet"/>
	<link href="/webResources/plugins/jquery-UI/jquery-ui-1.12.1.custom/jquery-ui.min.css" rel="stylesheet"/>
	<link href="/webResources/css/custom/validate.css" rel="stylesheet"/>
	
	<style type="text/css">
		.ui-autocomplete {
			display: block;
			z-index: 99999;
		}
	</style>
	
	<script type="text/javascript" src="/webResources/plugins/jquery-validate/dist/jquery.validate.min.js" ></script>
	<script type="text/javascript" src="/webResources/plugins/jquery-validate/dist/localization/messages_zh.js" ></script>
	<script type="text/javascript" src="/webResources/plugins/jquery-UI/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
	<script type="text/javascript" src="/webResources/plugins/jquery-form/jquery.form.min.js" ></script>
	<script type="text/javascript" src="/webResources/plugins/jquery-BlockUI/jquery.blockUI.js" ></script>
	<script type="text/javascript" src="/webResources/js/custom/process/customerService/repair.js" ></script>
	
</head>

<body>
	<form class="form-horizontal" role="form" th:object="${process}" id="customerServiceForm">
		<input type="hidden" id="processId" name="processId" th:value="${process.id}"/> 
		<input type="hidden" id="taskId" name="taskId" th:value="${task.id}"/>  
	    <fieldset>
	    	<div style="width: 490px;height: 300px;padding-top: 3%">
			    <div class="dialog-title">
			        <div class="dialog-img">
			            <img src="/webResources/img/icon/dialogtitle.png"/>
			        </div>
			        <div class="dialog-title-info">
		            	<span th:text="#{customerService.repair}"></span>
		               	&nbsp;&nbsp;&nbsp;
		               	<span th:text="${session.user.name}"></span>
			        </div>
			    </div>
			    <hr />
			    <div class="form-group">
		    		<label class="col-sm-3 control-label"  th:text="#{customerService.entrust}">是否委托</label>  
	   				<div class="col-sm-1 control-label">
				        <input v-on:click="isEntrust = !isEntrust" class="regular-checkbox" type="checkbox" id="isEntrust" name="isEntrust"/>
				        <label for="isEntrust"></label>
	   				</div>
		    	</div>
		    	<div v-if="!isEntrust" id="isEntrust">
		    		<div class="form-group">
			    		<label class="col-sm-3 control-label"  th:text="#{device.serialNo}" for="problemDescription">设备序列号</label>  
			    		<div class="col-sm-8">
			    			<input type="text" th:field="*{device.serialNo}" class="form-control" th:placeholder="#{device.serialNo}"/>
			    			<input type="hidden" th:field="*{device.id}"/>  
	    				</div>
		    		</div>
		    		<div class="form-group">
			    		<label class="col-sm-3 control-label"  th:text="#{customerService.problemDescription}" for="problemDescription">问题描述</label>  
			    		<div class="col-sm-8">
			    			<textarea th:placeholder="#{customerService.problemDescription}" rows="4" cols="5" th:field="*{repairDetail.problemDescription}" class="autosize form-control textarea-transition" style="overflow: hidden; overflow-wrap: break-word; resize: horizontal; height: 100%;margin-top: 0%"></textarea> 
	    				</div>
		    		</div>
		    		<div class="form-group">
			    		<label class="col-sm-3 control-label"  th:text="#{customerService.failureCause}" for="failureCause">故障原因</label>  
			    		<div class="col-sm-8">
			    			<textarea th:placeholder="#{customerService.failureCause}" rows="4" cols="5" th:field="*{repairDetail.failureCause}" class="autosize form-control textarea-transition" style="overflow: hidden; overflow-wrap: break-word; resize: horizontal; height: 100%;margin-top: 0%"></textarea> 
	    				</div>
		    		</div>
		    		<div class="form-group">
			    		<label class="col-sm-3 control-label"  th:text="#{customerService.processMode}" for="processMode">处理方式</label>  
			    		<div class="col-sm-8">
			    			<textarea th:placeholder="#{customerService.processMode}" rows="4" cols="5" th:field="*{repairDetail.processMode}" class="autosize form-control textarea-transition" style="overflow: hidden; overflow-wrap: break-word; resize: horizontal; height: 100%;margin-top: 0%"></textarea> 
	    				</div>
		    		</div>
		    	</div>
		    	<div id="entrust" v-if="isEntrust">
			    	<div class="form-group">
				    	<label class="col-sm-3 control-label"  th:text="#{customerService.entrustTo}">选择委托人</label>  
				    	<div class="col-sm-8">
				    	 	<select name="mandatary" id="mandatary" class="form-control"> 
				            	<option th:each="account : ${accounts}" th:value="${account.loginId}" th:text="${account.name}"></option>
				            </select>
		    			</div>
			    	</div>
			    	<div class="form-group">
				    	<label class="col-sm-3 control-label"  th:text="#{reason}">理由</label>  
				    	<div class="col-sm-8">
				            <textarea id="reason" name="reason" class="form-control" th:placeholder="#{reason}"></textarea> 
		    			</div>
			    	</div>
		    	</div>
			</div>
	    </fieldset>  
	</form>  
</body>

</html>

